<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Formulario de Alta para Compañía</h1>
    <form id="companyForm">
        <label for="nombre">Nombre de la Compañía:</label>
        <input type="text" id="nombre" name="nombre" required><br><br>

        <label for="responsable">Responsable:</label>
        <input type="text" id="responsable" name="responsable" required><br><br>

        <label for="cif">CIF:</label>
        <input type="text" id="cif" name="cif" required><br><br>

        <label for="telefono">Teléfono:</label>
        <input type="tel" id="telefono" name="telefono" required><br><br>

        <label for="direccion">Dirección:</label>
        <input type="text" id="direccion" name="direccion" required><br><br>

        <input type="submit" value="Crear Compañía">
    </form>
    <script>
        
        const queryString = window.location.search;

            // Crea un objeto URLSearchParams a partir de la cadena de consulta
        const params = new URLSearchParams(queryString);

            // Recupera el valor del parámetro "school"
        const schoolParam = params.get("school");//elemento escuela
        const instalacionParam = params.get("instalacion");//asigna instalacion

        params.delete("school","instalacion");
            //crea el objeto y lo inserta 
        document.querySelector("form").addEventListener('submit',e=>{
        e.preventDefault();
        const company=Object.fromEntries(new FormData(e.target));
        
        alert(JSON.stringify(company));//aviso de insertado correctamente

        window.location.href="/index.html";//vuelve a inicio
            });
            
        
    </script>
</body>
</html>